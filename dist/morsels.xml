<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>The coding morsels of Luke Alex Davis</title><description>My RSS feed of coding snippets.</description><link>https://lukealexdavis.co.uk/</link><item><title>Morsel #9: Oapy</title><link>https://lukealexdavis.co.uk/posts/morsel-9/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-9/</guid><pubDate>Thu, 23 Mar 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My ninth morsel is a work one.&lt;/p&gt;
&lt;p&gt;Oapy is a web app that uses OpenAI&apos;s GPT models to generate &lt;a href=&quot;/wiki/tech/seo/&quot;&gt;SEO&lt;/a&gt; content at scale. That means anything from metadata (titles and descriptions) to category copy. But with the Playground mode (similar to OpenAI&apos;s Playground tool), you can generate any kind of written content.&lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://oapy-impression.streamlit.app/&quot;&gt;Oapy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.impressiondigital.com/resources/tools/oapy/&quot;&gt;Impression guide to Oapy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Internet access (no code necessary!)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;How to use&lt;/h2&gt;
&lt;p&gt;Follow the Impression guide above to find out how to use Oapy.&lt;/p&gt;
&lt;h2&gt;Python functions used&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-dicts/&quot;&gt;Dictionaries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-conditional-statements/&quot;&gt;If statements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/defining-your-own-python-function/&quot;&gt;Functions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://wiki.python.org/moin/ForLoop&quot;&gt;For-loops&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-lists-tuples/#python-lists&quot;&gt;Lists&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/list-comprehension-python/#using-list-comprehensions&quot;&gt;List comprehensions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content:encoded></item><item><title>Morsel #8: Bandcamp Album Length Calculator</title><link>https://lukealexdavis.co.uk/posts/morsel-8/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-8/</guid><pubDate>Sat, 04 Feb 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My eighth morsel is a &lt;a href=&quot;/wiki/tech/python/&quot;&gt;Python&lt;/a&gt; script that returns the running time of an album from Bandcamp in your CLI of choice. I previously used a JS plugin/applet in my browser but it stopped working and couldn&apos;t find a replacement (there probably is one but I also don&apos;t like installing add-ons unless I have to because Chromium browsers already hog enough memory!)&lt;/p&gt;
&lt;p&gt;Then I thought &quot;why not create a quick script to do the job?&quot;. I have also made this into a Streamlit app but that&apos;ll be coming in a future morsel. In the meantime, I discovered argparse and thought it&apos;d be handy for me to have everything run in my CLI and print out the album length. No frills!&lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/starchildluke/bandcamp_calc&quot;&gt;GitHub link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;Python 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Beautiful Soup&lt;/li&gt;
&lt;li&gt;Requests&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;How to use&lt;/h2&gt;
&lt;p&gt;In your command line, enter &lt;code&gt;python3 bandcamp_calc.py -u [URL]&lt;/code&gt; and it will print out the running time in seconds.&lt;/p&gt;
&lt;h2&gt;Python functions used&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-lists-tuples/#python-lists&quot;&gt;Lists&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/list-comprehension-python/#using-list-comprehensions&quot;&gt;List comprehensions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-for-loop/&quot;&gt;For loops&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-sum-function/&quot;&gt;sum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.python.org/3/library/datetime.html&quot;&gt;datetime&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.python.org/3/library/argparse.html&quot;&gt;argparse&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content:encoded></item><item><title>Morsel #7: Random Pokémon Team Generator</title><link>https://lukealexdavis.co.uk/posts/morsel-7/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-7/</guid><pubDate>Fri, 22 Jul 2022 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;/p&gt;
&lt;p&gt;My seventh morsel is a script that generate a random team based on all fully evolved Pokémon from Red/Blue/Yellow (excluding Legendaries and Mythicals).&lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/starchildluke/random-pokemon-team&quot;&gt;GitHub link&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://starchildluke-random-pokemon-team-random-gen1-team-kbwrud.streamlitapp.com/&quot;&gt;Streamlit app&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;Python 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://streamlit.io/&quot;&gt;streamlit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Python functions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-lists-tuples/#python-lists&quot;&gt;Lists&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/list-comprehension-python/#using-list-comprehensions&quot;&gt;List comprehensions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.freecodecamp.org/news/python-find-in-list-how-to-find-the-index-of-an-item-or-element-in-a-list/&quot;&gt;&lt;code&gt;List.index()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/defining-your-own-python-function/&quot;&gt;Functions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-json/&quot;&gt;JSON file/object handling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-conditional-statements/&quot;&gt;If statements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://realpython.com/python-for-loop/&quot;&gt;For loops&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pynative.com/python-random-sample/&quot;&gt;&lt;code&gt;Random.sample()&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content:encoded></item><item><title>Morsel #6: Federer in The Guardian</title><link>https://lukealexdavis.co.uk/posts/morsel-6/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-6/</guid><pubDate>Sat, 09 Jul 2022 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My sixth morsel is a quick script that scrapes The Guardian API for articles featuring &quot;Federer&quot; in the headline. This can, of course, be amended to search for any query in the API but I wanted some article to fill out my &lt;a href=&quot;/wiki/sport/roger-federer/&quot;&gt;Federer wiki page&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;Python 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://requests.readthedocs.io/en/latest/&quot;&gt;requests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://open-platform.theguardian.com/&quot;&gt;An API key from The Guardian&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/starchildluke/federer-in-the-guardian&quot;&gt;GitHub link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content:encoded></item><item><title>Morsel #5: Black fabric</title><link>https://lukealexdavis.co.uk/posts/morsel-5/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-5/</guid><pubDate>Thu, 07 Jul 2022 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My fifth morsel is called Black Fabric and it&apos;s a Python script that generates five randomised names that incorporate:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A fabric type as the first name&lt;/li&gt;
&lt;li&gt;A common surname of African diasporan descent (ie. Black folks from the Americas (North and Central), the Caribbean, and the UK, whose ancestors were enslaved people)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;Python 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://streamlit.io/&quot;&gt;streamlit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/starchildluke/black_fabric&quot;&gt;GitHub link&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://share.streamlit.io/starchildluke/black_fabric/main/black_fabric.py&quot;&gt;Streamlit app&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Credit to &lt;a href=&quot;https://twitter.com/yedoye_/status/1422264318079422466&quot;&gt;@yedoye&lt;/a&gt; for the idea and everyone in the replies.&lt;/p&gt;
</content:encoded></item><item><title>Morsel #4: bulk upload to Internet Archive with waybackpy</title><link>https://lukealexdavis.co.uk/posts/morsel-4/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-4/</guid><pubDate>Wed, 25 May 2022 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My fourth morsel is a way to backup your site to the Internet Archive.&lt;/p&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;Python 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pypi.org/project/waybackpy/&quot;&gt;waybackpy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://advertools.readthedocs.io/en/master/&quot;&gt;advertools&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/starchildluke/wayback&quot;&gt;GitHub link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I adapted some code from Koray Tuğberk GÜBÜR by using advertools to pull pages from a sitemap and &lt;code&gt;to_list()&lt;/code&gt; over &lt;code&gt;apply()&lt;/code&gt; and a &lt;code&gt;lambda&lt;/code&gt; function when extracting URLs to iterate over. Purely a preference thing.&lt;/p&gt;
&lt;p&gt;Also shout out to &lt;a href=&quot;https://github.com/eliasdabbas/advertools&quot;&gt;Elias Dabbas for the advertools library&lt;/a&gt; which has made sitemap handling in Python so much easier.&lt;/p&gt;
</content:encoded></item><item><title>Morsel #3: a custom font preload fix in WordPress</title><link>https://lukealexdavis.co.uk/posts/morsel-3/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-3/</guid><pubDate>Tue, 24 May 2022 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My third morsel is actually a WordPress fix.&lt;/p&gt;
&lt;p&gt;I decided to write this as I couldn&apos;t find the answer I was looking for myself and thought it might help anyone who had the same problem in the future.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem&lt;/strong&gt;: I realised the custom self-hosted fonts I was using on my WordPress sites weren&apos;t actually loading. I realised this after seeing the following message:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;The resource X was preloaded using link preload but not used within a few seconds from the window’s load event. Please make sure it has an appropriate ‘as’ value and it is preloaded intentionally.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;That basically means the font loaded but it wasn&apos;t used &lt;em&gt;at all&lt;/em&gt;. I tried all the different things that Stack Overflow said but it still wouldn&apos;t work. Long story short: the @font-face declarations I was making in the main theme CSS file weren&apos;t acknowledged so I put them in the WordPress Customizer panel. To do that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Go to your Admin panel and then go to Appearance &amp;gt; Customize &amp;gt; Additional CSS&lt;/li&gt;
&lt;li&gt;Enter the appropriate @font-face code&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I used the following @font-face format:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@font-face {
  font-family: &apos;FontName&apos;;
  src: url(PATH) format(&apos;woff2&apos;);
  src: url(PATH) format(&apos;woff&apos;);
  font-weight: whatever that is;
  font-style: normal;
  font-display: swap;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In terms of the preload code, I recommend the following:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;link rel=&quot;preload&quot; href=&quot;PATH&quot; type=&quot;font/woff2&quot; as=&quot;font&quot; crossorigin=&quot;&quot;&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I&apos;ve gone with woff2 only as it&apos;s widely supported and smaller in file size, which compounds the benefits of preloading for page speed. Just be careful of &lt;a href=&quot;https://fonts.google.com/knowledge/glossary/fout&quot;&gt;FOUT&lt;/a&gt; and set your &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control&quot;&gt;Cache-Control headers&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;And make sure to put that ahead of the &lt;code&gt;wp_head()&lt;/code&gt; in your header.php file so it can preload before the CSS (I believe that&apos;s how it works lol).&lt;/p&gt;
</content:encoded></item><item><title>Morsel #2: The YouTube Thumbnail Extractor</title><link>https://lukealexdavis.co.uk/posts/morsel-2/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-2/</guid><pubDate>Sat, 30 Apr 2022 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My second morsel is a Python script that extracts thumbnails from YouTube videos.&lt;/p&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/starchildluke/yt_thumbnail&quot;&gt;GitHub link&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://share.streamlit.io/starchildluke/yt_thumbnail/main/yt_st.py&quot;&gt;Streamlit app&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;Python 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://requests.readthedocs.io/en/latest/&quot;&gt;requests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://streamlit.io/&quot;&gt;streamlit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Add the URL to extract the thumbnail from and it will display it at the bottom. Currently only works if you put in the full YouTube video URL without any parameters (so not youtu.be or ?t=8 for example). Again, open to suggestions on how to make it work with any valid YouTube URL (as I&apos;m not so great with &lt;a href=&quot;https://docs.python.org/3/library/re.html&quot;&gt;re&lt;/a&gt; yet)&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
</content:encoded></item><item><title>Morsel #1: The Tag Suggester</title><link>https://lukealexdavis.co.uk/posts/morsel-1/</link><guid isPermaLink="true">https://lukealexdavis.co.uk/posts/morsel-1/</guid><pubDate>Thu, 14 Apr 2022 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My first morsel is a Python script that extracts all the tags from my blogs and creates randomised Google search URLs for content ideation.&lt;/p&gt;
&lt;h2&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;Python 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.python-requests.org/&quot;&gt;requests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://streamlit.io/&quot;&gt;streamlit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Links&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/starchildluke/tag_suggester/&quot;&gt;GitHub link&lt;/a&gt;
&lt;a href=&quot;https://share.streamlit.io/starchildluke/tag_suggester/main/tagsuggester.py&quot;&gt;Streamlit app&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Example from &lt;a href=&quot;https://cultrface.co.uk&quot;&gt;Cultrface&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://google.com/search?q=martin+luther+king+soup&quot;&gt;https://google.com/search?q=martin+luther+king+soup&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As they are randomised, some of the results are more nonsense than anything but you never know. That&apos;s the beauty of it—you could end up down a rabbit hole you never knew existed.&lt;/p&gt;
&lt;p&gt;Feel free to fork the repository and make your own version (subject to the AGPL-3.0 License)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;UPDATE&lt;/strong&gt;: So this script doesn&apos;t update the JSON files containing all the blog tags as I had hoped. Still looking into how to do that but if anyone reading this knows how to update a JSON file via a Streamlit app hosted on GitHub, I&apos;d love to know.&lt;/p&gt;
</content:encoded></item></channel></rss>