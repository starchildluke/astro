---
// COMPONENTS

import Footer from '../../components/Footer.astro';
import Layout from '../../layouts/Layout.astro';
import Breadcrumbs from '../../components/Breadcrumbs.astro';
import Tags from '../../components/Tags.astro';

// HOW FETCHING!

const remoteData = await fetch('https://cultrface.co.uk/wp-json/wp/v2/posts?categories=290&per_page=10').then(response => response.json());

// METADATA VARIABLES

let title = 'Architecture';
let description = 'A wiki page all about architecture.';

---
<Layout {title} {description}>
      <main class="layout">
        <article class="content">
          <Breadcrumbs title={title}/>
            <section class="intro">
              <h1>{title}</h1>
              <p class="desc">{description}</p>
            </section>
            <section>
              <h2 class="wiki-h2">Inner voice</h2>
              <Tags tagName="architecture" />
            </section>
            <section>
              <h2 class="wiki-h2">Out loud</h2>
              <ul>
                {remoteData.map(( post ) => (
                  <li>
                    <a href={post.link}><Fragment set:html={post.title.rendered}></a>
                  </li>
                ))}
              </ul>
              <h2 class="wiki-h2">Second opinions</h2>
                <ul>
                  <li>
                    <a href="https://www.designboom.com/architecture/project-milestone-first-3d-printed-concrete-house-europe-eindhoven-netherland-completion-04-30-2021/">Europe's first 3D-printed house has new occupants</a>
                  </li>
                </ul>
            </section>
        </article>
      
      </main>
    
    <Footer/>
  
  </body>

</html>