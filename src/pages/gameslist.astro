---
// COMPONENTS

import Games from '../layouts/Gameslist.astro';
import gamelog from '../data/gamelog.json';

// METADATA VARIABLES

let title = 'My Gameslist';
let description = "A list of games I'm currently playing or have already completed.";
---

<style>
	
	body {
		text-align: center;
		background: #100d37;
		color: #f2f6f6;
	}

	.games-meta {
		margin-bottom: 2rem;
	}

	.games-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, auto));
		grid-row-gap: 2rem;
		grid-column-gap: 2rem;
		justify-content: center;
		justify-items: center;
		margin-bottom: 4rem;
	}

	.games-img {
		border-bottom: 5px double white;
	}

	.container {
		display: grid;
		margin: 2rem;
	}

	.data :is(img,.games-text) {
		padding: 2rem;
	}

	.data {
		display: flex;
		flex-wrap: wrap;
		align-content: flex-start;
		max-width: 250px;
		background: #575573;
		border-radius: 10px;
		box-shadow: 7px 7px 17px black;
	}

	.data :is(h3, p)  {
		text-align: left;
	}

	.data p {
		padding-bottom: 0;
	}


</style>

<Games title={title} description={description} />
	<div class="container">
		<div class="games-meta">
			<h1>{title}</h1>
			<p>{description}</p>
			<p>Please note: this is a work in progress so the design may change.</p>
			<p><a href="/">Go back home</a></p>
		</div>
		<h2>Currently playing</h2>
		<div class="games-grid">
          {gamelog.filter(game => game.completed === "No").map((game) => (
          <div class="data">
          	<div class="games-img">
          		<img src={game.imageMetadata[0].imageThumbnailURL} width={game.imageMetadata[0].thumbnailDimensions.width} height={game.imageMetadata[0].thumbnailDimensions.height} loading={game.imageMetadata[0].loading}>
          	</div>
          	<div class="games-text">
	          	<h3>{game.name}</h3>
	          	<p><strong>Developer</strong>: {game.developer}</p>
	          	<p><strong>Publisher</strong>: {game.publisher}</p>
	          	<p><strong>Genre</strong>: {game.genre}</p>
	          	<p><strong>Console</strong>: {game.console}</p>
          	</div>
          </div>
          ))}
          </div>
          <h2>Completed it, mate!</h2>
		<div class="games-grid">
          {gamelog.filter(game => game.completed === "Yes").map((game) => (
          <div class="data">
          	<div class="games-img">
          		<img src={game.imageMetadata[0].imageThumbnailURL} width={game.imageMetadata[0].thumbnailDimensions.width} height={game.imageMetadata[0].thumbnailDimensions.height} loading={game.imageMetadata[0].loading}>
          	</div>
          	<div class="games-text">
	          	<h3>{game.name}</h3>
	          	<p><strong>Developer</strong>: {game.developer}</p>
	          	<p><strong>Publisher</strong>: {game.publisher}</p>
	          	<p><strong>Genre</strong>: {game.genre}</p>
	          	<p><strong>Console</strong>: {game.console}</p>
          	</div>
          </div>
          ))}
          </div>
		</div>
		</Games>