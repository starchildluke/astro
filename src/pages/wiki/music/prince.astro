---
// COMPONENTS

import BaseHead from '../../../components/BaseHead.astro';
import BlogHeader from '../../../components/BlogHeader.astro';
import BlogFooter from '../../../components/BlogFooter.astro';
import Breadcrumbs from '../../../components/Breadcrumbs.astro';
import site from '../../../data/site.json';
import wiki from '../../../data/wiki.json'

// EXPORT

export interface Props {
post: any;
metaTitle: string;
title: string;
slug: string;
description: string;
domain: string;
}

// PROPS

const { post } = Astro.props;

// HOW FETCHING!

const remoteData = await fetch('https://sampleface.co.uk/wp-json/wp/v2/posts?tags=408&per_page=5').then(response => response.json());
const remoteData2 = await fetch('https://cultrface.co.uk/wp-json/wp/v2/posts?tags=701&per_page=5').then(response => response.json());

// METADATA VARIABLES

let title = 'Prince';
let slug = '/wiki/music/prince/';
let description = 'A wiki page all about Prince.';
let domain = "https://lukealexdavis.co.uk"

---
<html lang="en">
  <head>
    <BaseHead title={'wiki/' + title.toLowerCase()} description={description} canonicalURL={domain + slug} />
  </head>
  <body>
    <BlogHeader />
    <main class="layout">
      <article class="content">
        <Breadcrumbs title={title}/>
        <h1>{title}</h1>
        <p class="desc">{description}</p>
        <p>Prince Rogers Nelson, better known as Prince, was an Black American singer-songwriter, musician, actor, and record producer. He's also one of the greatest musicians the world has ever known. This page features articles from myself and others about Prince's genius.</p>
        <h2 class="wiki-h2">Inner voice</h2>
        <ul>
          <li><a href="/post/prince-purple-a-visited-css/">/prince-purple-a-visited-css.md</a></li>
          <li><a href="/post/musical-inspirations/">/musical-inspirations.md</a></li>
          <li><a href="/post/videos-ive-been-watching-to-keep-me-going/">/videos-ive-been-watching-to-keep-me-going.md</a></li>
        </ul>
        <h2 class="wiki-h2">Out loud</h2>
        <ul class="post-list">
          {remoteData.map((item) => (
          <li class="post-preview wiki-listing post-list">
            <a href={item.link}><Fragment set:html={item.title.rendered}></a>
          </li>
          ))}
          {remoteData2.map((item) => (
          <li class="post-preview wiki-listing post-list">
            <a href={item.link}><Fragment set:html={item.title.rendered}></a>
          </li>
          ))}
        </ul>
        <h2 class="wiki-h2">Second opinions</h2>
        <p>Coming soon...</p>
      </article>
    </main>
    <BlogFooter></BlogFooter>
  </body>
</html>